{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-5">
  <h2 class="mb-4">Sales Report</h2>
   <!-- Report Form -->
  <form method="get" action="{% url 'sales_report' %}" class="mb-4" novalidate>
    {% crispy form %}
  </form>

  {% if sales %}
  <table class="table table-striped mt-4">
    <thead class="table-light">
      <tr>
        <th>Generated By</th>
       <th>Start Date</th>
       <th>End Date</th>
       <th>Total Sales</th>
      <th>Total Items Sold</th>
      <th>Transport Revenue</th>

      </tr>
    </thead>
    <tbody>
      {% for sale in sales %}
      <tr>
        <td>{{ sale.generated_by }}</td>
        <td>{{ sale.start_date }}</td>
        <td>{{ sale.end_date }}</td>
        <td>{{ sale.total_sales }}</td>
        <td>{{ sale.total_items_sold }}</td>
        <td>{{ sale.transport_revenue }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="mt-4">
    <p><strong>Total_Sales:</strong> {{ total_sales }}</p>
    <p><strong>Total_Items_Sold:</strong> {{ total_items_sold }}</p>
    <p><strong>Transport_Revenue:</strong> {{ transport_revenue }}</p>
  </div>
  {% else %}
    <p>No sales data available for the selected period.</p>
  {% endif %}
</div>


{% endblock %}
