{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center">
    <h2 class="mb-0">Stock Report</h2>
    <button class="btn btn-outline-secondary d-print-none" onclick="window.print()">Print</button>
  </div>

  <form method="get" class="mb-4" novalidate>
      {% crispy form %}
  </form>


  <table class="table table-bordered mt-4">
    <thead>
        <tr>
            <th>Date Received</th>
            <th>Product</th>
            <th>Quantity</th>
            <th>Cost Price</th>
            <th>Selling Price</th>
            <th>Supplier</th>
        </tr>
    </thead>
    <tbody>
        {% for stock in stocks %}
        <tr>
            <td>{{ stock.date_received }}</td>
            <td>{{ stock.product.name }}</td>
            <td>{{ stock.quantity }}</td>
            <td>{{ stock.cost_price }}</td>
            <td>{{ stock.product_price }}</td>
            <td>{{ stock.supplier.name }}</td>
        </tr>
        {% endfor %}
    </tbody>
  </table>

  {% if notes %}
  <div class="alert alert-info mt-3">
      <strong>Report Notes:</strong><br>
      {{ notes }}
  </div>
  {% endif %}

</div>

{% endblock %}
